import{o as w,a as p,b as N,d as C,e as o,u as b,w as x,F as S,Z as V,f as e,n as B,m as i,by as m,g as y,bR as U,aX as E,aU as T}from"./vue.m-BoM48gZa.js";import{_ as k}from"./GuestLayout-BLXmUMDc.js";import{g as F,s as I}from"./Ajax-ltBwR52q.js";import{_ as u}from"./InputError-siFCQWKO.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const l=d=>(E("data-v-ab234709"),d=d(),T(),d),D={class:"p-5"},q=l(()=>e("div",{class:"text-center mb-6"},[e("h1",{class:"text-2xl font-normal"},"お問い合わせ")],-1)),z={class:"flex mb-4 space-x-4"},A={class:"flex-1"},$=l(()=>e("div",{class:"mb-1 text-sm"},"姓",-1)),j={class:"flex-1"},P=l(()=>e("div",{class:"mb-1 text-sm"},"名",-1)),R={class:"mb-4"},X=l(()=>e("div",{class:"mb-1 text-sm"},"電話番号",-1)),Z={class:"mb-4"},G=l(()=>e("div",{class:"mb-1 text-sm"},"メールアドレス",-1)),H=l(()=>e("small",{class:"text-red-600"},"※必ずwamore.cityからの受信を許可しておいてください",-1)),J={class:"mb-4"},K=l(()=>e("div",{class:"mb-1 text-sm"},"メールアドレス確認用",-1)),L={class:"mb-6"},O=l(()=>e("div",{class:"mb-1 text-sm"},"お問い合わせ内容",-1)),Q=l(()=>e("span",{class:"ml-1"},"›",-1)),W={class:"text-center mb-8"},Y=l(()=>e("span",{class:"mr-1"},"‹",-1)),ee={__name:"Create",props:{customerEmail:{type:String,default:""},customerName:{type:String,default:""},contactSubjectTypes:{type:Array,default:()=>[]}},setup(d){const h=[{name:"ホーム",url:"/"},{name:"お問い合わせ",url:"/contact/create"}],c=d;w(()=>{autosize(document.querySelectorAll("textarea"))});const f=c.customerName?c.customerName.split(" "):["",""],s=p({lastName:f[0]||"",firstName:f[1]||"",phone:"",email:c.customerEmail,emailConfirmation:c.customerEmail,body:""}),r=p({}),_=p([]),g=()=>{Swal.fire({title:"送信",text:"お問い合わせを送信します。よろしいでしょうか。",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"はい",cancelButtonText:"キャンセル"}).then(v=>{if(v.isConfirmed){const t=new FormData;t.append("last_name",s.value.lastName),t.append("first_name",s.value.firstName),t.append("phone",s.value.phone),t.append("email",s.value.email),t.append("email_confirmation",s.value.emailConfirmation),t.append("body",s.value.body);for(let n=0;n<_.value.length;n++)t.append("files[]",_.value[n]);const a=route("contact.store");axios.post(a,t).then(n=>{n.data.result===!0&&Swal.fire("送信完了","お問い合わせを受け付けました。できるだけ早くご返信いたします。それまでお待ちくださいませ。","success").then(()=>{location.reload()})}).catch(n=>{r.value=F(n),Swal.fire("入力エラー",n.response.data.message,"error").then(()=>{I()})})}})};return(v,t)=>(N(),C(S,null,[o(b(V),{title:"お問い合わせ"}),o(k,{breadcrumbs:h},{default:x(()=>[e("div",D,[q,e("form",{onSubmit:t[6]||(t[6]=B(()=>{},["prevent"]))},[e("div",z,[e("div",A,[$,i(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>s.value.lastName=a),class:"w-full border py-2 px-3"},null,512),[[m,s.value.lastName]]),o(u,{message:r.value.last_name},null,8,["message"])]),e("div",j,[P,i(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>s.value.firstName=a),class:"w-full border py-2 px-3"},null,512),[[m,s.value.firstName]]),o(u,{message:r.value.first_name},null,8,["message"])])]),e("div",R,[X,i(e("input",{type:"tel","onUpdate:modelValue":t[2]||(t[2]=a=>s.value.phone=a),placeholder:"080-1234-5678",class:"w-full border py-2 px-3"},null,512),[[m,s.value.phone]]),o(u,{message:r.value.phone},null,8,["message"])]),e("div",Z,[G,i(e("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=a=>s.value.email=a),placeholder:"leather-store@wamore.com",class:"w-full border py-2 px-3"},null,512),[[m,s.value.email]]),H,o(u,{message:r.value.email},null,8,["message"])]),e("div",J,[K,i(e("input",{type:"email","onUpdate:modelValue":t[4]||(t[4]=a=>s.value.emailConfirmation=a),class:"w-full border py-2 px-3"},null,512),[[m,s.value.emailConfirmation]]),o(u,{message:r.value.email_confirmation},null,8,["message"])]),e("div",L,[O,i(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=a=>s.value.body=a),rows:"6",class:"w-full border py-2 px-3 resize-none"},null,512),[[m,s.value.body]]),o(u,{message:r.value.body},null,8,["message"])]),e("div",{class:"mb-4"},[e("button",{type:"button",onClick:g,class:"block w-full bg-gray-300 text-gray-700 py-2 px-4"},[y(" 送信 "),Q])]),e("div",W,[o(b(U),{href:"/",class:"text-gray-500 inline-flex items-center"},{default:x(()=>[Y,y(" 戻る ")]),_:1})])],32)])]),_:1})],64))}},ne=M(ee,[["__scopeId","data-v-ab234709"]]);export{ne as default};
