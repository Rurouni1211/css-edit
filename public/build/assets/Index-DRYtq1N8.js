import{A as C}from"./AuthenticatedLayout-Di-2FOMO.js";import{a as m,o as S,b as u,d as _,e as a,u as V,w as n,F as f,Z as $,f as e,g as p,i as M,t as g,k as N}from"./vue.m-BoM48gZa.js";import{_ as P}from"./Pagination-lRXMoJjk.js";import{_ as z}from"./DeleteButton-CmFOYZ2N.js";import{_ as b}from"./CancelButton-CYN4UORr.js";import{_ as B}from"./SearchInput-BKr-ujZ-.js";import{R as L}from"./ResponsiveTable-D6b5B55q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BaseButton-CVzmqfRt.js";import"./TextInput-lN6ApOBV.js";const A=e("h2",{class:"font-semibold text-indigo-50 leading-tight"},[p("カテゴリ管理"),e("small",null,"（完成品）")],-1),D={class:"py-3 ms:py-6"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"text-right mb-3"},R={class:"bg-white overflow-hidden shadow-sm"},T={class:"p-5 sm:p-10 text-gray-900"},q={class:"bg-white w-full text-sm"},E=e("thead",{class:"bg-indigo-600 text-white text-xs"},[e("tr",null,[e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"カテゴリ名"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold w-24"},"表示順"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold w-1"},"操作")])],-1),U={class:"border border-gray-300 p-2 text-nowrap"},Z={class:"border border-gray-300 p-2 text-center text-nowrap"},j={class:"border border-gray-300 p-2 text-nowrap"},G={key:0},H=e("td",{class:"border border-gray-300 p-4 text-center",colspan:"3"},"データがありません",-1),J=[H],re={__name:"Index",setup(K){const l=m([]),h=m({});S(()=>{d()});const d=()=>{l.value=[],h.value={};const o=i.value,r=route("admin.item_category.list",{page:o}),t={params:{q:c.value.keyword}};axios.get(r,t).then(s=>{l.value=s.data.data,h.value=s.data.meta.links})},x=o=>{i.value=o,d()},v=o=>{const r=route("admin.item_category.destroy",o.id);Swal.confirm("delete").then(t=>{t.isConfirmed&&axios.delete(r).then(s=>{s.data.result===!0&&(Swal.fire("削除しました","選択した店舗を削除しました。","success"),location.reload())}).catch(s=>{const k=s.response.data.message;Swal.fire("エラーが発生しました",k,"error")})})},i=m(1),c=m({keyword:""}),w=()=>{i.value=1,d()},y=()=>{c.value.keyword="",i.value=1,d()};return(o,r)=>(u(),_(f,null,[a(V($),{title:"カテゴリ管理（完成品）"}),a(C,null,{header:n(()=>[A]),default:n(()=>[e("div",D,[e("div",F,[e("div",I,[a(b,{size:"xs",href:o.route("admin.item_category.input")},{default:n(()=>[p("新規登録")]),_:1},8,["href"])]),e("div",R,[e("div",T,[a(B,{modelValue:c.value.keyword,"onUpdate:modelValue":r[0]||(r[0]=t=>c.value.keyword=t),placeholder:"カテゴリ名",onSearch:w,onClear:y},null,8,["modelValue"]),a(L,{class:"mb-4"},{default:n(()=>[e("table",q,[E,e("tbody",null,[(u(!0),_(f,null,M(l.value,t=>(u(),_("tr",{key:t.id,class:"odd:bg-gray-50 hover:bg-indigo-100"},[e("td",U,g(t.name),1),e("td",Z,g(t.sort_number),1),e("td",j,[a(b,{size:"xs",class:"mr-2",href:o.route("admin.item_category.input",t.id)},{default:n(()=>[p("編集")]),_:2},1032,["href"]),a(z,{size:"xs",onClick:s=>v(t)},{default:n(()=>[p("削除")]),_:2},1032,["onClick"])])]))),128)),l.value.length===0?(u(),_("tr",G,J)):N("",!0)])])]),_:1}),a(P,{links:h.value,onMovePage:x},null,8,["links"])])])])])]),_:1})],64))}};export{re as default};
