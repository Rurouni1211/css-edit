import{A as V}from"./AuthenticatedLayout-Di-2FOMO.js";import{a as u,o as $,b as h,d as b,e as a,u as S,w as n,F as g,Z as z,f as e,g as d,i as P,t as i,k as D}from"./vue.m-BoM48gZa.js";import{_ as E}from"./Pagination-lRXMoJjk.js";import{_ as x,a as L}from"./CancelButton-CYN4UORr.js";import{_ as N}from"./DeleteButton-CmFOYZ2N.js";import{_ as R}from"./SubButton-BQXSgC_f.js";import{_ as B}from"./SearchInput-BKr-ujZ-.js";import{R as M}from"./ResponsiveTable-D6b5B55q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BaseButton-CVzmqfRt.js";import"./TextInput-lN6ApOBV.js";const T=e("h2",{class:"font-semibold text-indigo-50 leading-tight"},[d("商品管理"),e("small",null,"（360°VR）")],-1),A={class:"py-3 sm:py-6"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"text-right mb-3"},I={class:"bg-white overflow-hidden shadow-sm mb-4"},U={class:"p-5 sm:p-10 text-gray-900"},Z={class:"bg-white w-full text-sm"},j=e("thead",{class:"bg-indigo-600 text-white text-xs"},[e("tr",null,[e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},[d("商品名"),e("small",null,"（商品コード）")]),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"カテゴリ"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"店舗"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"Sketchfabキー"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"組合わせ"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold w-1"},"確認"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold w-1"},"複製"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold w-1"},"操作")])],-1),G={class:"border border-gray-300 p-2 min-w-60"},H={class:"text-xs text-gray-600 mb-0.5"},J={class:"border border-gray-300 p-2"},K={class:"border border-gray-300 p-2"},O={class:"border border-gray-300 p-2 text-xs"},Q=["href"],W={class:"border border-gray-300 p-2 text-center"},X={class:"border border-gray-300 p-2 text-nowrap"},Y={class:"border border-gray-300 p-2 text-nowrap"},ee={class:"border border-gray-300 p-2 text-nowrap"},te={key:0},oe=e("td",{class:"border border-gray-300 p-4 text-center",colspan:"7"},"データがありません。",-1),ae=[oe],pe={__name:"Index",setup(se){const c=u([]),p=u({});$(()=>{l()});const l=()=>{const o=_.value;c.value=[],p.value={};const s=route("admin.product.list",{page:o}),t={params:{q:m.value.keyword}};axios.get(s,t).then(r=>{c.value=r.data.data,p.value=r.data.meta.links})},y=o=>{_.value=o,l()},w=o=>{const s=`「${o.name}」を複製しますか？`;Swal.confirm("normal",s).then(t=>{if(t.isConfirmed){const r=route("admin.product.duplicate",{product:o.id});axios.post(r).then(f=>{f.data.result===!0&&l()})}})},v=o=>{Swal.confirm("delete").then(s=>{if(s.isConfirmed){const t=route("admin.product.destroy",{product:o.id}),r={_method:"DELETE"};axios.post(t,r).then(f=>{f.data.result===!0&&l()})}})},_=u(1),m=u({keyword:""}),k=()=>{_.value=1,l()},C=()=>{m.value.keyword="",_.value=1,l()};return(o,s)=>(h(),b(g,null,[a(S(z),{title:"商品管理（360°VR）"}),a(V,null,{header:n(()=>[T]),default:n(()=>[e("div",A,[e("div",F,[e("div",q,[a(x,{size:"xs",href:o.route("admin.product.input")},{default:n(()=>[d("新規登録")]),_:1},8,["href"])]),e("div",I,[e("div",U,[a(B,{modelValue:m.value.keyword,"onUpdate:modelValue":s[0]||(s[0]=t=>m.value.keyword=t),placeholder:"商品名、商品コード、Sketchfabキー",onSearch:k,onClear:C},null,8,["modelValue"]),a(M,{class:"mb-4"},{default:n(()=>[e("table",Z,[j,e("tbody",null,[(h(!0),b(g,null,P(c.value,t=>(h(),b("tr",{key:t.id,class:"odd:bg-gray-50 hover:bg-indigo-100"},[e("td",G,[e("div",H,i(t.product_code),1),e("div",null,i(t.name),1)]),e("td",J,i(t.category.name),1),e("td",K,i(t.shop.name),1),e("td",O,[e("a",{href:t.sketchfab_url,class:"text-indigo-500 hover:underline",target:"_blank"},i(t.sketchfab_model_key),9,Q)]),e("td",W,i(t.material_combination_label),1),e("td",X,[a(R,{size:"xs",href:t.detail_url,target:"_blank"},{default:n(()=>[d("確認")]),_:2},1032,["href"])]),e("td",Y,[a(L,{size:"xs",class:"mr-1",onClick:r=>w(t)},{default:n(()=>[d("複製")]),_:2},1032,["onClick"])]),e("td",ee,[a(x,{size:"xs",class:"mr-1",href:o.route("admin.product.input",t.id)},{default:n(()=>[d("編集")]),_:2},1032,["href"]),a(N,{size:"xs",onClick:r=>v(t)},{default:n(()=>[d("削除")]),_:2},1032,["onClick"])])]))),128)),c.value.length===0?(h(),b("tr",te,ae)):D("",!0)])])]),_:1}),a(E,{links:p.value,onMovePage:y},null,8,["links"])])])])])]),_:1})],64))}};export{pe as default};
