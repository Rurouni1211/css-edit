import{A as S}from"./AuthenticatedLayout-Di-2FOMO.js";import{a as m,o as $,b as a,d as n,e as o,u as E,w as d,F as x,Z as L,f as e,g as p,i as M,t as l,k as N,O as P}from"./vue.m-BoM48gZa.js";import{_ as R}from"./Pagination-lRXMoJjk.js";import{_ as f}from"./CancelButton-CYN4UORr.js";import{_ as z}from"./DeleteButton-CmFOYZ2N.js";import{R as B}from"./ResponsiveTable-D6b5B55q.js";import{_ as D}from"./SearchInput-BKr-ujZ-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BaseButton-CVzmqfRt.js";import"./TextInput-lN6ApOBV.js";const T=e("h2",{class:"font-semibold text-indigo-50 leading-tight"},[p("素材管理"),e("small",null,"（360°VR）")],-1),A={class:"py-3 sm:py-6"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"text-right mb-3"},q={class:"bg-white overflow-hidden shadow-sm"},I={class:"p-5 sm:p-10 text-gray-900"},U={class:"bg-white w-full text-sm"},Z=e("thead",{class:"bg-indigo-600 text-white text-xs text-gray-600"},[e("tr",null,[e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"素材名"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"キー"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"光沢度"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"鏡面反射"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},[p("鏡面反射"),e("small",null,"（画像）")]),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"カラー"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"ノーマルマップ"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold w-1"},"操作")])],-1),j={class:"border border-gray-300 p-2 min-w-60"},G={class:"border border-gray-300 p-2"},H={class:"border border-gray-300 p-2 text-center text-nowrap"},J={class:"border border-gray-300 p-2 text-center text-nowrap"},K={class:"border border-gray-300 p-2 text-center text-nowrap"},Q={key:0},W=["href"],X={key:1,class:"text-gray-400"},Y={class:"border border-gray-300 p-2 text-center text-nowrap"},ee={class:"border border-gray-300 p-2 text-center text-nowrap"},te={class:"border border-gray-300 p-2 text-nowrap"},oe={key:0},se=e("td",{class:"border border-gray-300 p-4 text-center",colspan:"8"},"データがありません",-1),re=[se],be={__name:"Index",setup(ae){const _=m([]),b=m({});$(()=>{c()});const c=()=>{const s=u.value;_.value=[],b.value={};const r=route("admin.material.list",{page:s}),t={params:{q:h.value.keyword}};axios.get(r,t).then(i=>{_.value=i.data.data,b.value=i.data.meta.links})},y=s=>{u.value=s,c()},w=s=>{Swal.confirm("delete").then(r=>{if(r.isConfirmed){const t=route("admin.material.destroy",{material:s}),i={_method:"DELETE"};axios.post(t,i).then(g=>{g.data.result===!0&&c()}).catch(g=>{const V=g.response.data.message;Swal.error(V)})}})},u=m(1),h=m({keyword:""}),v=()=>{u.value=1,c()},k=()=>{h.value.keyword="",u.value=1,c()},C=()=>{P.visit(route("admin.material.input"))};return(s,r)=>(a(),n(x,null,[o(E(L),{title:"素材管理（360°VR）"}),o(S,null,{header:d(()=>[T]),default:d(()=>[e("div",A,[e("div",F,[e("div",O,[o(f,{size:"xs",onClick:C},{default:d(()=>[p("新規登録")]),_:1})]),e("div",q,[e("div",I,[o(D,{modelValue:h.value.keyword,"onUpdate:modelValue":r[0]||(r[0]=t=>h.value.keyword=t),placeholder:"素材名",onSearch:v,onClear:k},null,8,["modelValue"]),o(B,{class:"mb-4"},{default:d(()=>[e("table",U,[Z,e("tbody",null,[(a(!0),n(x,null,M(_.value,t=>(a(),n("tr",{key:t.id,class:"odd:bg-gray-50 hover:bg-indigo-100"},[e("td",j,l(t.name),1),e("td",G,l(t.key),1),e("td",H,l(t.glossiness),1),e("td",J,l(t.specular),1),e("td",K,[t.specular_map?(a(),n("div",Q,[e("a",{href:t.specular_map.url,class:"text-indigo-600 hover:underline text-xs py-1 text-nowrap",target:"_blank"},"確認",8,W)])):(a(),n("div",X,"-"))]),e("td",Y,l(t.colors.length)+"件",1),e("td",ee,l(t.normal_maps.length)+"件",1),e("td",te,[o(f,{size:"xs",class:"mr-1.5",href:s.route("admin.material.input",t)},{default:d(()=>[p("編集")]),_:2},1032,["href"]),o(z,{size:"xs",onClick:i=>w(t)},{default:d(()=>[p("削除")]),_:2},1032,["onClick"])])]))),128)),_.value.length===0?(a(),n("tr",oe,re)):N("",!0)])])]),_:1}),o(R,{links:b.value,onMovePage:y},null,8,["links"])])])])])]),_:1})],64))}};export{be as default};
