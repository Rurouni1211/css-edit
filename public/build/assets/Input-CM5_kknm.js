import{l as g,a as p,o as V,b as n,d as u,e as t,u as k,w as d,F as h,Z as L,f as e,m as N,v as M,i as $,t as b,g as O,k as S,O as U}from"./vue.m-BoM48gZa.js";import{A as B}from"./AuthenticatedLayout-Di-2FOMO.js";import{_ as y}from"./InputError-siFCQWKO.js";import{_ as x}from"./TextInput-lN6ApOBV.js";import{_}from"./InputLabel-fjeUReQI.js";import{L as E}from"./LoadingModal-BiCFBVY5.js";import{g as j}from"./Ajax-ltBwR52q.js";import{_ as A}from"./FooterButtons-DwrU-TYt.js";import{_ as D}from"./SubButton-BQXSgC_f.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./CancelButton-CYN4UORr.js";import"./BaseButton-CVzmqfRt.js";const F=e("h2",{class:"font-semibold text-indigo-50 leading-tight"},"カテゴリ（360°VR）追加・編集",-1),R={class:"sm:py-6"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"bg-white overflow-hidden shadow-sm"},I={class:"grid grid-cols-1 sm:grid-cols-2 p-5 sm:p-10"},P={class:"flex-1 text-gray-900 mb-5 sm:mb-0"},Y={class:"mb-5"},Z={class:"mb-5"},q={class:"flex items-center text-sm"},G=e("div",null," 有効にする ",-1),H={class:"flex-1 text-sm"},J={class:"mb-20 sm:mb-0 bg-gray-100 p-4"},K={class:"mb-0.5"},Q={key:0},de={__name:"Input",props:{productCategory:{type:Object,default(){return{}}},productCategories:{type:Object,default(){return{}}},passwordLength:{type:Number,default:16}},setup(f){const l=f;g(()=>!l.productCategory.id);const w=g(()=>l.productCategory.id),i=p(!1);V(()=>{l.productCategory.id&&(a.value=l.productCategory)});const a=p({name:"",sort_number:"",is_active:!1}),m=p({}),C=()=>{let r="",s={};w.value?(r=route("admin.product_category.update",{product_category:l.productCategory.id}),s={_method:"PUT",...a.value}):(r=route("admin.product_category.store"),s=a.value),Swal.confirm("normal").then(o=>{o.isConfirmed&&(i.value=!0,axios.post(r,s).then(c=>{c.data.result===!0&&Swal.fire({title:"保存しました",icon:"success"}).then(()=>{location.reload()})}).catch(c=>{m.value=j(c)}).finally(()=>i.value=!1))})},v=()=>{U.visit(route("admin.product_category.index"))};return(r,s)=>(n(),u(h,null,[t(k(L),{title:"カテゴリ（360°VR）追加・編集"}),t(B,null,{header:d(()=>[F]),default:d(()=>[e("div",R,[e("div",T,[e("div",z,[e("div",I,[e("div",P,[e("div",Y,[t(_,{value:"カテゴリ名"}),t(x,{type:"text",class:"mt-1 block w-full sm:w-96",modelValue:a.value.name,"onUpdate:modelValue":s[0]||(s[0]=o=>a.value.name=o),autocomplete:"name"},null,8,["modelValue"]),t(y,{message:m.value.name},null,8,["message"])]),e("div",Z,[t(_,{value:"表示順"}),t(x,{type:"number",class:"mt-1 block w-full sm:w-96",modelValue:a.value.sort_number,"onUpdate:modelValue":s[1]||(s[1]=o=>a.value.sort_number=o)},null,8,["modelValue"]),t(y,{message:m.value.sort_number},null,8,["message"])]),e("div",null,[e("label",null,[e("div",q,[N(e("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=o=>a.value.is_active=o),class:"mr-1"},null,512),[[M,a.value.is_active]]),G])])])]),e("div",H,[t(_,{value:"参考：表示順"}),e("div",J,[(n(!0),u(h,null,$(f.productCategories,o=>(n(),u("div",null,[e("div",K,[e("span",null,"【"+b(o.sort_number)+"】",1),e("span",null,b(o.name),1)])]))),256))])])])])])]),t(A,{onYesClick:C,onNoClick:v},{left:d(()=>[t(D,{size:"md",href:r.route("admin.product_category.input"),onClick:v},{default:d(()=>[O("新規追加")]),_:1},8,["href"])]),_:1}),i.value?(n(),u("div",Q,[t(E,{show:i.value},null,8,["show"])])):S("",!0)]),_:1})],64))}};export{de as default};
