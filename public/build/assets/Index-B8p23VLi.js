import{A as C}from"./AuthenticatedLayout-Di-2FOMO.js";import{a as u,o as V,b as m,d as _,e as a,u as S,w as n,F as f,Z as P,f as e,g as p,i as $,t as g,k as M}from"./vue.m-BoM48gZa.js";import{_ as N}from"./Pagination-lRXMoJjk.js";import{_ as R}from"./DeleteButton-CmFOYZ2N.js";import{_ as b}from"./CancelButton-CYN4UORr.js";import{_ as z}from"./SearchInput-BKr-ujZ-.js";import{R as B}from"./ResponsiveTable-D6b5B55q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BaseButton-CVzmqfRt.js";import"./TextInput-lN6ApOBV.js";const L=e("h2",{class:"font-semibold text-indigo-50 leading-tight"},[p("カテゴリ管理"),e("small",null,"（360°VR）")],-1),A={class:"py-3 sm:py-6"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"text-right mb-3"},T={class:"bg-white overflow-hidden shadow-sm"},q={class:"p-5 sm:p-10 text-gray-900"},E={class:"bg-white w-full text-sm"},I=e("thead",{class:"bg-indigo-600 text-white text-xs"},[e("tr",null,[e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold"},"カテゴリ名"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold w-24"},"表示順"),e("th",{class:"border border-gray-300 p-2 text-nowrap font-bold w-1"},"操作")])],-1),U={class:"border border-gray-300 p-2 text-nowrap"},Z={class:"border border-gray-300 p-2 text-center text-nowrap"},j={class:"border border-gray-300 p-2 text-nowrap"},G={key:0},H=e("td",{class:"border border-gray-300 p-4 text-center",colspan:"3"},"データがありません",-1),J=[H],re={__name:"Index",setup(K){const d=u([]),h=u({});V(()=>{l()});const l=()=>{d.value=[],h.value={};const o=i.value,r=route("admin.product_category.list",{page:o}),t={params:{q:c.value.keyword}};axios.get(r,t).then(s=>{d.value=s.data.data,h.value=s.data.meta.links})},x=o=>{i.value=o,l()},v=o=>{const r=route("admin.product_category.destroy",o.id);Swal.confirm("delete").then(t=>{t.isConfirmed&&axios.delete(r).then(s=>{s.data.result===!0&&(Swal.fire("削除しました","選択した店舗を削除しました。","success"),location.reload())}).catch(s=>{const k=s.response.data.message;Swal.fire("エラーが発生しました",k,"error")})})},i=u(1),c=u({keyword:""}),w=()=>{i.value=1,l()},y=()=>{c.value.keyword="",i.value=1,l()};return(o,r)=>(m(),_(f,null,[a(S(P),{title:"カテゴリ管理（360°VR）"}),a(C,null,{header:n(()=>[L]),default:n(()=>[e("div",A,[e("div",D,[e("div",F,[a(b,{size:"xs",href:o.route("admin.product_category.input")},{default:n(()=>[p("新規登録")]),_:1},8,["href"])]),e("div",T,[e("div",q,[a(z,{modelValue:c.value.keyword,"onUpdate:modelValue":r[0]||(r[0]=t=>c.value.keyword=t),placeholder:"カテゴリ名",onSearch:w,onClear:y},null,8,["modelValue"]),a(B,{class:"mb-4"},{default:n(()=>[e("table",E,[I,e("tbody",null,[(m(!0),_(f,null,$(d.value,t=>(m(),_("tr",{key:t.id,class:"odd:bg-gray-50 hover:bg-indigo-100"},[e("td",U,g(t.name),1),e("td",Z,g(t.sort_number),1),e("td",j,[a(b,{size:"xs",class:"mr-2",href:o.route("admin.product_category.input",t.id)},{default:n(()=>[p("編集")]),_:2},1032,["href"]),a(R,{size:"xs",onClick:s=>v(t)},{default:n(()=>[p("削除")]),_:2},1032,["onClick"])])]))),128)),d.value.length===0?(m(),_("tr",G,J)):M("",!0)])])]),_:1}),a(N,{links:h.value,onMovePage:x},null,8,["links"])])])])])]),_:1})],64))}};export{re as default};
